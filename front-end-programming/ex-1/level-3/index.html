<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Front End Programming : Exercise 1 Level 3</title>
  </head>
  <body>
    <h1>Student Records</h1>
    <div id="myGrid" style="height: 500px"></div>

    <script src="https://cdn.jsdelivr.net/npm/ag-grid-community/dist/ag-grid-community.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <script>
      const gridOptions = {
        columnDefs: [
          { field: "ID", sortable: true, filter: true },
          { field: "Name", sortable: true, filter: true },
          { field: "Age", sortable: true, filter: true },
          { field: "Grade", sortable: true, filter: true },
        ],
      };
      const myGridElement = document.querySelector("#myGrid");

      Papa.parse("students.csv", {
        header: true,
        dynamicTyping: true,
        download: true,
        complete: function (result) {
          const rowData = result.data;
          const gridOptions = {
            columnDefs: [
              { field: "ID", sortable: true, filter: true },
              { field: "Name", sortable: true, filter: true },
              { field: "Age", sortable: true, filter: true },
              { field: "Grade", sortable: true, filter: true },
            ],
            rowData: rowData,
          };

          agGrid.createGrid(myGridElement, gridOptions);
        },
      });
    </script>
  </body>
</html>
